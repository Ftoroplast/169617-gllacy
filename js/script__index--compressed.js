function initMap(){var e=new google.maps.Map(document.getElementById("map"),{zoom:16,center:{lat:59.9386034,lng:30.3293023}}),o="img/icon__map--ice-cream.svg";new google.maps.Marker({position:{lat:59.938767,lng:30.3231},map:e,icon:o})}for(var fields=document.querySelectorAll(".form__field"),placeholder="",btnContacts=document.querySelector("a.btn.btn--contacts"),contactsModalWindow=document.querySelector(".modal-window.modal-window--contacts"),crossContacts=document.querySelector(".modal-window__cross.modal-window__cross--contacts"),nameField=contactsModalWindow.querySelector(".form__field--contacts.form__field--name"),emailField=contactsModalWindow.querySelector(".form__field--contacts.form__field--email"),messageField=contactsModalWindow.querySelector(".form__field--contacts.form__field--message"),formContacts=contactsModalWindow.querySelector("form"),storedName=localStorage.getItem("nameField"),storedEmail=localStorage.getItem("emailField"),footer=document.querySelector("footer"),mapInner=document.getElementById("map"),overlay=document.querySelector(".overlay"),i=0;i<fields.length;++i)fields[i].addEventListener("focus",function(){placeholder=this.getAttribute("placeholder"),this.setAttribute("placeholder","")}),fields[i].addEventListener("blur",function(){this.setAttribute("placeholder",placeholder)});btnContacts.addEventListener("click",function(e){e.preventDefault(),contactsModalWindow.classList.add("modal-window--show"),overlay.classList.add("overlay--show"),storedName&&(nameField.value=storedName,emailField.focus()),storedEmail&&(emailField.value=storedEmail,messageField.focus())}),crossContacts.addEventListener("click",function(e){e.preventDefault(),contactsModalWindow.classList.remove("modal-window--show"),contactsModalWindow.classList.remove("modal-window--error"),overlay.classList.remove("overlay--show")}),nameField.required=!1,emailField.required=!1,messageField.required=!1,formContacts.addEventListener("submit",function(e){nameField.value&&emailField.value&&messageField.value?(localStorage.setItem("nameField",nameField.value),localStorage.setItem("emailField",emailField.value)):(e.preventDefault(),contactsModalWindow.classList.remove("modal-window--error"),contactsModalWindow.offsetWidth=contactsModalWindow.offsetWidth,contactsModalWindow.classList.add("modal-window--error"))}),mapInner.style.bottom=footer.offsetHeight+"px",mapInner.style.display="block";
